<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TRX Earn Model</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="//libtl.com/sdk.js" data-zone="9712617" data-sdk="show_9712617"></script>
    <script type="module" src="firebase.js"></script>
    <script type="module" src="app.js" defer></script>
</head>
<body>
    <div id="app">
        <header class="app-header">
            <div class="brand">
                <img src="./assets/trx.svg" alt="TRX" class="brand-icon" />
                <h1>TRX Earn Model</h1>
            </div>
            <div class="user-chip">
                <span id="username">@user</span>
                <span class="dot"></span>
                <span id="userid">0</span>
            </div>
        </header>

        <main>
            <section id="earn" class="tab active" aria-labelledby="tab-earn">
                <div class="card">
                    <h2>Earn TRX</h2>
                    <div class="balance-row">
                        <div>
                            <div class="label">Available Balance</div>
                            <div class="value" id="availableBalance">0.000000</div>
                        </div>
                        <div>
                            <div class="label">Ad Reward</div>
                            <div class="value" id="adReward">0.005000</div>
                        </div>
                    </div>

                    <div class="earn-actions">
                        <button id="watchAdBtn" class="primary">Watch Ad</button>
                        <div id="cooldown" class="muted">Next ad in <span id="cooldownTimer">00:00</span></div>
                    </div>

                    <div id="adOverlay" class="ad-overlay hidden">
                        <div class="ad-box">
                            <video id="adVideo" class="ad-video" controls>
                                <source src="https://cdn.pixabay.com/download/video/2021/03/10/67555-527903763_tiny.mp4?filename=abstract-particles-67555.mp4" type="video/mp4" />
                                Your browser does not support the video tag.
                            </video>
                            <button id="closeAd" class="secondary">Close</button>
                        </div>
                    </div>

                    <div class="section">
                        <h3>Earnings Breakdown</h3>
                        <div class="grid-3">
                            <div class="stat">
                                <div class="label">From Ads</div>
                                <div class="value" id="earnAds">0.000000</div>
                            </div>
                            <div class="stat">
                                <div class="label">From Referrals</div>
                                <div class="value" id="earnReferrals">0.000000</div>
                            </div>
                            <div class="stat">
                                <div class="label">From Tasks</div>
                                <div class="value" id="earnTasks">0.000000</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="refer" class="tab" aria-labelledby="tab-refer">
                <div class="card">
                    <h2>Refer & Earn</h2>
                    <div class="section">
                        <div class="label">Your Referral Link</div>
                        <div class="ref-row">
                            <input id="refLink" class="input" readonly />
                            <button id="copyLink" class="secondary">Copy</button>
                        </div>
                        <div class="muted small" id="refLinkNote">
                            Share your link to earn 0.05 TRX per referral + 5% lifetime commission.
                        </div>
                        <div class="share-row">
                            <button id="shareTelegram" class="chip">Telegram</button>
                            <button id="shareWhatsApp" class="chip">WhatsApp</button>
                            <button id="shareMore" class="chip">More</button>
                        </div>
                    </div>

                    <div class="section">
                        <h3>Referral Dashboard</h3>
                        <div class="grid-3">
                            <div class="stat">
                                <div class="label">Total Referrals</div>
                                <div class="value" id="totalReferrals">0</div>
                            </div>
                            <div class="stat">
                                <div class="label">Referral Earnings</div>
                                <div class="value" id="referralEarnings">0.000000</div>
                            </div>
                            <div class="stat">
                                <div class="label">Lifetime Commission</div>
                                <div class="value" id="lifetimeCommission">0.000000</div>
                            </div>
                        </div>
                        <div id="refList" class="list"></div>
                    </div>
                </div>
            </section>

            <section id="wallet" class="tab" aria-labelledby="tab-wallet">
                <div class="card">
                    <h2>Wallet</h2>
                    <div class="balance-row">
                        <div>
                            <div class="label">Balance</div>
                            <div class="value" id="walletBalance">0.000000</div>
                        </div>
                        <div>
                            <div class="label">Minimum Withdrawal</div>
                            <div class="value" id="minWithdrawal">0.500000</div>
                        </div>
                    </div>

                    <div class="section">
                        <h3>Withdraw</h3>
                        <form id="withdrawForm" class="form">
                            <div class="form-row">
                                <label>Amount (TRX)</label>
                                <input id="withdrawAmount" type="number" class="input" min="0" step="0.000001" required />
                            </div>
                            <div class="form-row">
                                <label>Payment Method</label>
                                <select id="paymentMethod" class="input">
                                    <option value="binance" selected>Binance</option>
                                </select>
                            </div>
                            <div class="form-row">
                                <label>Binance UID</label>
                                <input id="binanceUid" type="text" class="input" placeholder="e.g. 123456789" required />
                            </div>
                            <div class="form-row">
                                <label>Asset</label>
                                <select id="asset" class="input">
                                    <option value="TRX" selected>TRX</option>
                                </select>
                            </div>
                            <button type="submit" class="primary">Submit Withdrawal</button>
                            <div id="withdrawMsg" class="muted small"></div>
                        </form>
                    </div>

                    <div class="section">
                        <h3>Transaction History</h3>
                        <div id="txList" class="list"></div>
                    </div>
                </div>
            </section>

            <section id="tasks" class="tab" aria-labelledby="tab-tasks">
                <div class="card">
                    <h2>Tasks</h2>
                    <div id="taskList" class="list"></div>
                </div>
            </section>
        </main>

        <nav class="tabbar">
            <button id="tab-earn" class="tabbtn active" data-tab="earn">Earn</button>
            <button id="tab-refer" class="tabbtn" data-tab="refer">Refer</button>
            <button id="tab-wallet" class="tabbtn" data-tab="wallet">Wallet</button>
            <button id="tab-tasks" class="tabbtn" data-tab="tasks">Tasks</button>
        </nav>
    </div>
</body>
</html>


